---
import LikeButton from './LikeButton.astro'
import dayjs from 'dayjs'

export const partial = true

const { post } = Astro.props

const prettyTime = dayjs(post.createdAt).format('h:mm a')
const prettyDate = dayjs(post.createdAt).format('dddd MMMM D')
const prettyYear = dayjs(post.createdAt).format('YYYY')


---



<div class="post">
    <div class="post-content">
    <img class="post-img" src="https://placekitten.com/g/100/100" alt="" />
    
    <div class="post-text">

        <p >{post.content}</p>

    </div>


        


    
    </div> 
    <div class="post-meta">
    <span>{post.username} posted at {dayjs(post.createdAt).format('h:mm a on dddd MMMM D, YYYY')}</span>
    <LikeButton post={post} />
    </div> 
</div>

<style>

.post {
    background-color: var(--secondary);
    color: var(--secondary-text);
    width: 100%;
    max-width: 600px;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 1rem;
    border: 1px solid var(--accent);
    border-radius: 4px;
    padding: 1rem;
}

.post-img {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    margin-right: 1rem;
}

.post-text {
    display: flex;

    font-family: 'Inter Tight', sans-serif;
    margin-bottom: 1rem;
    align-items: center;
    width: 100%;
}

.post-meta {
    font-family: 'Barlow', sans-serif;
    color: var(--muted);
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: end;
    margin-top: 1rem;
    font-size: 0.8rem;
    letter-spacing: .5px;
}

.post-content {
    width: 100%;
    display: flex;

}

.post-likes {
    display: flex;
    align-items: end;
}

</style>