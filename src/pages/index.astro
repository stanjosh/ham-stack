---

import NewPostButton from './partials/NewPostButton.astro'
import Layout from './layouts/Layout.astro'
import PostList from './partials/PostList.astro'
import GoogleAuthButton from './partials/GoogleAuthButton.astro'
import { getSession } from 'auth-astro/server'
const session = await getSession(Astro.request)


---
<Layout title="posts">
    <GoogleAuthButton />
    
    <PostList />
    {session ? 
    <div id="corner-container" hx-swap="innerHTML" hx-swap-oob="true" class ="">
        <NewPostButton>
    </div>
    : null}


</Layout>